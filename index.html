<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoDrone - Belajar Programming dengan Game</title>
    <meta name="description"
        content="Belajar programming melalui game automation. Tulis script untuk mengendalikan drone!">
    <link rel="stylesheet" href="css/style.css">
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Orbitron:wght@400;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <span class="logo-icon">ğŸ¤–</span>
                <span class="logo-text">AutoDrone</span>
            </div>
            <div class="level-selector" id="level-selector">
                <!-- Level buttons will be generated by JS -->
            </div>
            <div class="controls">
                <button id="btn-run" class="control-btn run" title="Run Script (F5)">
                    <span>â–¶</span> Run
                </button>
                <button id="btn-pause" class="control-btn pause" disabled title="Pause (F6)">
                    <span>â¸</span> Pause
                </button>
                <button id="btn-step" class="control-btn step" title="Step (F7)">
                    <span>â­</span> Step
                </button>
                <button id="btn-stop" class="control-btn stop" disabled title="Stop (F8)">
                    <span>â¹</span> Stop
                </button>
                <div class="speed-control">
                    <label>Speed:</label>
                    <input type="range" id="speed-slider" min="1" max="10" value="5">
                    <span id="speed-value">5x</span>
                </div>
            </div>
        </header>

        <!-- Lesson Banner -->
        <div class="lesson-banner" id="lesson-banner">
            <div class="lesson-icon" id="lesson-icon">ğŸš€</div>
            <div class="lesson-content">
                <div class="lesson-title" id="lesson-title">Level 1: Hello Drone</div>
                <div class="lesson-description" id="lesson-description">Pelajari perintah dasar MOVE dan COLLECT</div>
            </div>
            <div class="lesson-concept" id="lesson-concept">
                <span class="concept-label">Konsep:</span>
                <span class="concept-value">MOVE & COLLECT</span>
            </div>
        </div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Left Panel: Code Editor -->
            <section class="panel editor-panel">
                <div class="panel-header">
                    <span>ğŸ“ Script Editor</span>
                    <div class="editor-actions">
                        <button id="btn-hint" class="small-btn hint-btn" title="Show Hint">ğŸ’¡ Hint</button>
                        <button id="btn-solution" class="small-btn" title="Show Solution">ğŸ“– Solusi</button>
                        <button id="btn-clear" class="small-btn">ğŸ—‘ï¸ Clear</button>
                    </div>
                </div>
                <div class="editor-container">
                    <div class="line-numbers" id="line-numbers"></div>
                    <textarea id="code-editor" spellcheck="false" placeholder="# Tulis script automation kamu di sini!
# Contoh:
MOVE forward
COLLECT"></textarea>
                </div>
                <div class="editor-status">
                    <span id="cursor-position">Ln 1, Col 1</span>
                    <span id="parse-status" class="status-ok">âœ“ Ready</span>
                </div>
            </section>

            <!-- Center Panel: Game Canvas -->
            <section class="panel game-panel">
                <div class="panel-header">
                    <span>ğŸ® Simulasi</span>
                    <div class="game-stats">
                        <span class="stat">ğŸ”‹ <span id="stat-energy">100</span></span>
                        <span class="stat">ğŸ’ <span id="stat-crystals">0</span>/<span
                                id="stat-crystals-total">3</span></span>
                        <span class="stat">ğŸ“€ <span id="stat-data">0</span>/<span id="stat-data-total">0</span></span>
                        <span class="stat">â± <span id="stat-ticks">0</span></span>
                    </div>
                </div>
                <div class="canvas-container">
                    <canvas id="game-canvas"></canvas>
                    <div id="game-overlay" class="game-overlay hidden">
                        <div class="overlay-content">
                            <h2 id="overlay-title">Level Complete!</h2>
                            <p id="overlay-message">Semua objective tercapai!</p>
                            <div id="overlay-stars" class="stars">â­â­â­</div>
                            <div id="overlay-lesson" class="overlay-lesson"></div>
                            <button id="btn-next-level" class="control-btn run">Level Selanjutnya â†’</button>
                        </div>
                    </div>
                </div>
                <div class="canvas-controls">
                    <button id="btn-reset" class="small-btn">ğŸ”„ Reset Level</button>
                    <button id="btn-rewind" class="small-btn" disabled>âª Rewind</button>
                    <div class="progress-indicator">
                        <span id="progress-text">Level 1/10</span>
                    </div>
                </div>
            </section>

            <!-- Right Panel: Console & Analysis -->
            <section class="panel console-panel">
                <div class="panel-tabs">
                    <button class="tab-btn active" data-tab="console">ğŸ“Ÿ Console</button>
                    <button class="tab-btn" data-tab="lesson">ğŸ“š Pelajaran</button>
                    <button class="tab-btn" data-tab="analysis">ğŸ“Š Analisis</button>
                    <button class="tab-btn" data-tab="help">â“ Bantuan</button>
                </div>

                <!-- Console Tab -->
                <div id="tab-console" class="tab-content active">
                    <div id="console-output" class="console-output"></div>
                </div>

                <!-- Lesson Tab -->
                <div id="tab-lesson" class="tab-content">
                    <div class="lesson-content-panel">
                        <h3 id="lesson-panel-title">ğŸ“š Konsep Level Ini</h3>
                        <div id="lesson-panel-content" class="lesson-panel-content">
                            <p>Pilih level untuk melihat pelajaran.</p>
                        </div>
                        <h4>ğŸ¯ Objective</h4>
                        <ul id="objective-list" class="objective-list">
                            <li>Loading...</li>
                        </ul>
                        <h4>ğŸ’¡ Tips</h4>
                        <ul id="hints-list" class="hints-list">
                            <li>Loading...</li>
                        </ul>
                    </div>
                </div>

                <!-- Analysis Tab -->
                <div id="tab-analysis" class="tab-content">
                    <div class="analysis-content">
                        <div class="analysis-score">
                            <h3>Efficiency Score</h3>
                            <div class="score-display">
                                <span id="score-value">--</span>
                                <span id="score-stars">â˜†â˜†â˜†â˜†â˜†</span>
                            </div>
                        </div>
                        <div class="analysis-breakdown">
                            <h4>ğŸ“Š Breakdown</h4>
                            <div id="analysis-details">
                                <p class="muted">Jalankan script untuk melihat analisis</p>
                            </div>
                        </div>
                        <div class="analysis-suggestions">
                            <h4>ğŸ’¡ Saran Optimasi</h4>
                            <ul id="suggestions-list">
                                <li class="muted">Selesaikan level untuk tips</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Help Tab -->
                <div id="tab-help" class="tab-content">
                    <div class="help-content">
                        <h3>ğŸ¤– Referensi Cepat</h3>
                        <div class="help-section">
                            <h4>Aksi Dasar</h4>
                            <code>MOVE forward</code> - Maju
                            <code>MOVE back</code> - Mundur
                            <code>TURN left</code> - Belok kiri
                            <code>TURN right</code> - Belok kanan
                            <code>COLLECT</code> - Ambil resource
                            <code>WAIT</code> - Tunggu (+1 energy)
                        </div>
                        <div class="help-section">
                            <h4>Control Flow</h4>
                            <code>IF kondisi: ... END</code>
                            <code>LOOP n: ... END</code>
                            <code>WHILE kondisi: ... END</code>
                        </div>
                        <div class="help-section">
                            <h4>Sensor & Variabel</h4>
                            <code>scan()</code> - Cek tile depan
                            <code>energy</code> - Sisa energy
                            <code>inventory.crystal</code> - Jumlah crystal
                        </div>
                        <div class="help-section">
                            <h4>ğŸ® Keyboard Shortcuts</h4>
                            <code>F5</code> - Run
                            <code>F6</code> - Pause
                            <code>F7</code> - Step
                            <code>F8</code> - Stop
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <span>AutoDrone v2.0 | Tekan F5 untuk Run</span>
            <span id="vm-state" class="vm-state">VM: READY</span>
        </footer>
    </div>

    <!-- Scripts -->
    <script type="module" src="js/main.js"></script>
</body>

</html>